"use strict";var mysql=require("mysql"),Postgrator=require("postgrator"),path=require("path"),pool=mysql.createPool({connectionLimit:10,host:process.env.DB_HOST,user:process.env.DB_USER,password:process.env.DB_PASSWORD,database:process.env.DB_NAME,port:process.env.DB_PORT});exports.pool=pool;var query=function(r){return new Promise(function(o,s){pool.query(r,function(r,e){r?s(r):o(e)})})};exports.query=query;var postgrator=new Postgrator({migrationDirectory:path.resolve(__dirname,"../migrations"),driver:"mysql",host:process.env.DB_HOST,port:process.env.DB_PORT,database:process.env.DB_NAME,username:process.env.DB_USER,password:process.env.DB_PASSWORD,schemaTable:"migrations"});exports.postgrator=postgrator,exports.migrate=function(){return postgrator.migrate()};