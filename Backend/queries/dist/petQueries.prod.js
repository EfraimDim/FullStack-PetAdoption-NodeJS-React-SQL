"use strict";function _templateObject19(){var e=_taggedTemplateLiteral(["DELETE FROM savedPets WHERE pet_ID = "," "]);return _templateObject19=function(){return e},e}function _templateObject18(){var e=_taggedTemplateLiteral(["DELETE FROM adoptedPets WHERE pet_ID = "," "]);return _templateObject18=function(){return e},e}function _templateObject17(){var e=_taggedTemplateLiteral(["DELETE FROM pets WHERE pet_ID = "," "]);return _templateObject17=function(){return e},e}function _templateObject16(){var e=_taggedTemplateLiteral(["UPDATE pets SET type = ",", adoption_status = ",", name = ",", color = ",", height = ",", weight = ",", bio = ",", dietry_restrictions = ",", hypoallergenic = ",", breed = ",", availability = ","  WHERE pet_ID = ",""]);return _templateObject16=function(){return e},e}function _templateObject15(){var e=_taggedTemplateLiteral(["UPDATE pets SET type = ",", adoption_status = ",", name = ",", color = ",", picture_path = ",", height = ",", weight = ",", bio = ",", dietry_restrictions = ",", hypoallergenic = ",", breed = ",", availability = ","  WHERE pet_ID = ",""]);return _templateObject15=function(){return e},e}function _templateObject14(){var e=_taggedTemplateLiteral(["INSERT INTO pets (pet_ID, type, name, adoption_status, picture_path, height, weight, color, bio, hypoallergenic, availability, dietry_restrictions, breed, date_created) VALUES (",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",", ",")"]);return _templateObject14=function(){return e},e}function _templateObject13(){var e=_taggedTemplateLiteral(["SELECT * FROM pets WHERE type = ",""]);return _templateObject13=function(){return e},e}function _templateObject12(){var e=_taggedTemplateLiteral(['UPDATE pets SET adoption_status = "fostered", availability = FALSE WHERE pet_ID = ',""]);return _templateObject12=function(){return e},e}function _templateObject11(){var e=_taggedTemplateLiteral(["INSERT INTO adoptedPets (user_ID, pet_ID) VALUES (",", ",")"]);return _templateObject11=function(){return e},e}function _templateObject10(){var e=_taggedTemplateLiteral(['UPDATE pets SET adoption_status = "adopted", availability = FALSE WHERE pet_ID = ',""]);return _templateObject10=function(){return e},e}function _templateObject9(){var e=_taggedTemplateLiteral(["INSERT INTO adoptedPets (user_ID, pet_ID) VALUES (",", ",")"]);return _templateObject9=function(){return e},e}function _templateObject8(){var e=_taggedTemplateLiteral(["INSERT INTO savedPets (user_ID, pet_ID) VALUES (",", ",")"]);return _templateObject8=function(){return e},e}function _templateObject7(){var e=_taggedTemplateLiteral(["DELETE FROM savedPets WHERE user_ID = "," AND pet_ID = ",";"]);return _templateObject7=function(){return e},e}function _templateObject6(){var e=_taggedTemplateLiteral(['UPDATE pets SET adoption_status = "adopted"  WHERE pet_ID = ',""]);return _templateObject6=function(){return e},e}function _templateObject5(){var e=_taggedTemplateLiteral(['UPDATE pets SET adoption_status = "available", availability = TRUE  WHERE pet_ID = ',""]);return _templateObject5=function(){return e},e}function _templateObject4(){var e=_taggedTemplateLiteral(["DELETE FROM adoptedPets WHERE user_ID = "," AND pet_ID = ",";"]);return _templateObject4=function(){return e},e}function _templateObject3(){var e=_taggedTemplateLiteral(["SELECT * FROM pets"]);return _templateObject3=function(){return e},e}function _templateObject2(){var e=_taggedTemplateLiteral(["SELECT * FROM pets JOIN adoptedPets on pets.pet_ID = adoptedPets.pet_ID WHERE user_ID = ",""]);return _templateObject2=function(){return e},e}function _templateObject(){var e=_taggedTemplateLiteral(["SELECT * FROM pets JOIN savedPets on pets.pet_ID = savedPets.pet_ID WHERE user_ID = ",""]);return _templateObject=function(){return e},e}function _taggedTemplateLiteral(e,t){return t=t||e.slice(0),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var SQL=require("@nearform/sql"),_require=require("../lib/mysql"),query=_require.query;exports.usersPetArraysQuery=function(t){var r,n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(query(SQL(_templateObject(),t)));case 3:return r=e.sent,e.next=6,regeneratorRuntime.awrap(query(SQL(_templateObject2(),t)));case 6:return n=e.sent,e.abrupt("return",{savedPetsArray:r,adoptedPetsArray:n});case 10:e.prev=10,e.t0=e.catch(0),res.status(500).send(e.t0.message);case 13:case"end":return e.stop()}},null,null,[[0,10]])},exports.getAllPetsArrayQuery=function(){var t;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(query(SQL(_templateObject3())));case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),res.status(500).send(e.t0.message);case 11:case"end":return e.stop()}},null,null,[[0,7]])},exports.returnForAdoptionQuery=function(t,r,n,a,s){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(query(SQL(_templateObject4(),s,t)));case 3:return e.sent,e.next=6,regeneratorRuntime.awrap(query(SQL(_templateObject5(),t)));case 6:return e.sent,e.next=9,regeneratorRuntime.awrap(query('INSERT INTO newsfeed (news) VALUES ("'.concat(a," has returned ").concat(r," the ").concat(n,' back for adoption")')));case 9:e.sent,e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0),res.status(500).send(e.t0.message);case 16:case"end":return e.stop()}},null,null,[[0,12]])},exports.fosterToAdoptQuery=function(t,r,n,a){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(query(SQL(_templateObject6(),t)));case 3:return e.sent,e.next=6,regeneratorRuntime.awrap(query('INSERT INTO newsfeed (news) VALUES ("'.concat(a," had now adopted ").concat(r," the ").concat(n,' from fostering!")')));case 6:e.sent,e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),res.status(500).send(e.t0.message);case 13:case"end":return e.stop()}},null,null,[[0,9]])},exports.unsavePetQuery=function(t,r){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(query(SQL(_templateObject7(),r,t)));case 3:e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),res.status(500).send(e.t0.message);case 10:case"end":return e.stop()}},null,null,[[0,6]])},exports.savePetQuery=function(t,r){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(query(SQL(_templateObject8(),r,t)));case 3:e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),res.status(500).send(e.t0.message);case 10:case"end":return e.stop()}},null,null,[[0,6]])},exports.adoptPetQuery=function(t,r,n,a,s){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(query(SQL(_templateObject9(),s,t)));case 3:return e.sent,e.next=6,regeneratorRuntime.awrap(query(SQL(_templateObject10(),t)));case 6:return e.sent,e.next=9,regeneratorRuntime.awrap(query('INSERT INTO newsfeed (news) VALUES ("'.concat(a," had now adopted ").concat(r," the ").concat(n,'!")')));case 9:e.sent,e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0),res.status(500).send(e.t0.message);case 16:case"end":return e.stop()}},null,null,[[0,12]])},exports.fosterPetQuery=function(t,r,n,a,s){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(query(SQL(_templateObject11(),s,t)));case 3:return e.sent,e.next=6,regeneratorRuntime.awrap(query(SQL(_templateObject12(),t)));case 6:return e.sent,e.next=9,regeneratorRuntime.awrap(query('INSERT INTO newsfeed (news) VALUES ("'.concat(a," is now fostering ").concat(r," the ").concat(n,'!")')));case 9:e.sent,e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0),res.status(500).send(e.t0.message);case 16:case"end":return e.stop()}},null,null,[[0,12]])},exports.basicSearchQuery=function(t){var r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(query(SQL(_templateObject13(),t)));case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),res.status(500).send(e.t0.message);case 11:case"end":return e.stop()}},null,null,[[0,7]])},exports.advanceSearchQuery=function(t,r,n,a,s,c,u){var o;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(query('SELECT * FROM pets WHERE type = "'.concat(t,"\" AND adoption_status = '").concat(r,"' AND weight >= ").concat(s," AND weight <= ").concat(c," AND height >= ").concat(n," AND height <= ").concat(a," AND name LIKE '%").concat(u,"%'")));case 3:return o=e.sent,e.abrupt("return",o);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),res.status(500).send(e.t0.message);case 11:case"end":return e.stop()}},null,null,[[0,7]])},exports.addPetQuery=function(t,r,n,a,s,c,u,o,p,i,l,m,d,_,g){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(query(SQL(_templateObject14(),_,r,a,n,t,c,u,s,o,i,d,p,l,g)));case 3:return e.sent,e.next=6,regeneratorRuntime.awrap(query('INSERT INTO newsfeed (news) VALUES ("Admin: '.concat(m," has added ").concat(a," the ").concat(r,' to the database!")')));case 6:e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),res.status(500).send(e.t0.message);case 12:case"end":return e.stop()}},null,null,[[0,9]])},exports.editPetWithNewPhotoQuery=function(t,r,n,a,s,c,u,o,p,i,l,m,d,_){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(query(SQL(_templateObject15(),n,a,s,c,t,u,o,p,i,l,m,_,r)));case 3:return e.sent,e.next=6,regeneratorRuntime.awrap(query('INSERT INTO newsfeed (news) VALUES ("Admin: '.concat(d," has edited the information of ").concat(s," the ").concat(n,' and added a new photo!")')));case 6:e.sent,e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),res.status(500).send(e.t0.message);case 13:case"end":return e.stop()}},null,null,[[0,9]])},exports.editPetWithoutNewPhotoQuery=function(t,r,n,a,s,c,u,o,p,i,l,m,d){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(query(SQL(_templateObject16(),r,n,a,s,c,u,o,p,i,l,d,t)));case 3:return e.sent,e.next=6,regeneratorRuntime.awrap(query('INSERT INTO newsfeed (news) VALUES ("Admin: '.concat(m," has edited the information of ").concat(a," the ").concat(r,'!")')));case 6:e.sent,e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),res.status(500).send(e.t0.message);case 13:case"end":return e.stop()}},null,null,[[0,9]])},exports.deletePetQuery=function(t,r,n,a){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(query(SQL(_templateObject17(),t)));case 3:return e.sent,e.next=6,regeneratorRuntime.awrap(query(SQL(_templateObject18(),t)));case 6:return e.sent,e.next=9,regeneratorRuntime.awrap(query(SQL(_templateObject19(),t)));case 9:return e.sent,e.next=12,regeneratorRuntime.awrap(query('INSERT INTO newsfeed (news) VALUES ("Admin: '.concat(a," has deleted ").concat(r," the ").concat(n,' from all databases!")')));case 12:e.sent,e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0),res.status(500).send(e.t0.message);case 19:case"end":return e.stop()}},null,null,[[0,15]])};