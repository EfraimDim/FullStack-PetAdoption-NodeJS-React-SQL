"use strict";var token=JSON.parse(localStorage.getItem("token")),headers={Authorization:"Bearer ".concat(token)};function handlePost(t){var r,s,a;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,r=t.target.elements.title.value,s=t.target.elements.tags.value,a=t.target.elements.post.value,e.next=7,regeneratorRuntime.awrap(axios.post("/posts/addPost",{title:r,tags:s,post:a},{headers:headers}));case 7:e.sent.data.posts[0].title===r?swal({title:"Post Successful!",icon:"success",button:"back to posts"}).then(function(){window.location.href="personalposts.html"}):swal({title:"Error Posting!",icon:"error",button:"try again"}),t.target.reset(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0);case 15:case"end":return e.stop()}},null,null,[[1,12]])}document.querySelector("form").addEventListener("submit",handlePost);