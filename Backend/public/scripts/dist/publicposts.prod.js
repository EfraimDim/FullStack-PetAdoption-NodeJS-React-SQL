"use strict";function displayAllPosts(){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(axios.get("/posts/getAllPosts"));case 3:renderAllPosts(e.sent.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},null,null,[[0,7]])}function renderAllPosts(e){try{var t=document.querySelector(".postholder"),r="";e.forEach(function(e){!0===e.edited&&(e.title="".concat(e.title," (edited)")),r+='<div class="postholder__post" onclick=\'moveToViewPost("'.concat(e.postID,"\")' id='").concat(e.postID,'\'>\n                    <div class="postholder__post__title bold">').concat(e.title,'</div>\n                    <div class="postholder__post__author"><span class="bold">Posted By:</span> ').concat(e.poster,' <span class="bold">Date:</span> ').concat(e.date,' <span class="bold">Views:</span> ').concat(e.views,' <span class="bold">Likes:</span> ').concat(e.likes,"</div>\n                </div>")}),t.innerHTML=r}catch(e){console.error(e)}}function searchTitleKeyUp(t){var r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),r=t.target.value,e.next=5,regeneratorRuntime.awrap(axios.post("/posts/searchPostTitle",{searchTerm:r}));case 5:renderAllPosts(e.sent.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}},null,null,[[0,9]])}function searchTagsKeyUp(t){var r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),r=t.target.value,e.next=5,regeneratorRuntime.awrap(axios.post("/posts/searchPostTags",{searchTerm:r}));case 5:renderAllPosts(e.sent.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}},null,null,[[0,9]])}function searchUsernameKeyUp(t){var r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),r=t.target.value,e.next=5,regeneratorRuntime.awrap(axios.post("/posts/searchPostUsername",{searchTerm:r}));case 5:renderAllPosts(e.sent.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}},null,null,[[0,9]])}function searchAllKeyUp(t){var r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),r=t.target.value,e.next=5,regeneratorRuntime.awrap(axios.post("/posts/searchPostAll",{searchTerm:r}));case 5:renderAllPosts(e.sent.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}},null,null,[[0,9]])}function moveToViewPost(e){try{window.location.href="/readpost.html?postID=".concat(e)}catch(e){console.error(e)}}function sortByMostViewed(){var t,r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(axios.get("/posts/getAllPosts"));case 3:t=e.sent,r=t.data,renderAllPosts(r.sort(function(e,t){var r=e.views,n=t.views;return r<n?1:n<r?-1:void 0})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}},null,null,[[0,9]])}function sortByMostLiked(){var t,r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(axios.get("/posts/getAllPosts"));case 3:t=e.sent,r=t.data,renderAllPosts(r.sort(function(e,t){var r=e.likes,n=t.likes;return r<n?1:n<r?-1:void 0})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}},null,null,[[0,9]])}function sortByMostComments(){var t,r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(axios.get("/posts/getAllPosts"));case 3:t=e.sent,r=t.data,renderAllPosts(r.sort(function(e,t){var r=e.comments.length,n=t.comments.length;return r<n?1:n<r?-1:void 0})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}},null,null,[[0,9]])}document.getElementById("searching-title").addEventListener("keyup",searchTitleKeyUp),document.getElementById("searching-tags").addEventListener("keyup",searchTagsKeyUp),document.getElementById("searching-username").addEventListener("keyup",searchUsernameKeyUp),document.getElementById("searching-all").addEventListener("keyup",searchAllKeyUp);var mostViewedButton=document.querySelector(".most-viewed");mostViewedButton.addEventListener("click",sortByMostViewed);var mostLikedButton=document.querySelector(".most-liked");mostLikedButton.addEventListener("click",sortByMostLiked);var mostCommentButton=document.querySelector(".most-comment");mostCommentButton.addEventListener("click",sortByMostComments);var newestButton=document.querySelector(".newest");newestButton.addEventListener("click",displayAllPosts),window.addEventListener("load",displayAllPosts);